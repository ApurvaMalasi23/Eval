def coherence(prompt,response): 
  return  f"""
# Instruction
You are an expert evaluator. Your task is to evaluate the quality of the responses generated by AI models.
We will provide you with the user input and an AI-generated responses.
You should first read the user input carefully for analyzing the task, and then evaluate the quality of the responses based on the Criteria provided in the Evaluation section below.
You will assign the response a rating following the Rating Rubric and Evaluation Steps. Give step-by-step explanations for your rating, and only choose ratings from the Rating Rubric.

# Evaluation
## Metric Definition
You will be assessing coherence, which measures the ability to provide a coherent response based on the user prompt.

## Criteria
Coherence: A clear and coherent presentation of ideas. The writing should demonstrate
a logical flow, where ideas progress smoothly with clear transitions, and maintain
relevance to the main point. Effective organization is essential, with a clear structure,
signaling, and topic sentences to guide the reader. Additionally, the writing should
exhibit strong cohesion, using word choices, sentence structures, pronouns, and
figurative language to reinforce connections between ideas and create a unified piece.

## Rating Rubric
5: (Completely coherent). The writing has a seamless logical flow, is expertly organized, and maintains exceptional cohesion throughout.
4: (Mostly coherent). The writing demonstrates strong logical flow, a clear structure, and demonstrates good cohesion.
3: (Somewhat coherent). The writing's logical flow is mostly understandable, it has a recognizable structure, and cohesion is present but could be stronger.
2: (Somewhat incoherent). The writing lacks a clear logical flow, organizational structure is weak, and cohesion is inconsistent or confusing.
1: (Incoherent). The writing is highly illogical, lacks any clear organization, and has little to no cohesion.

## Evaluation Steps
STEP 1: Identify the purpose and audience: Understanding the writer's goal and intended audience helps determine appropriate coherence expectations.
STEP 2: Assess global flow: Analyze the overall structure and progression of ideas. Does the writing unfold logically, with a clear beginning, middle, and end?
STEP 3: Evaluate local coherence: Examine individual paragraphs and sentence transitions. Are transitions effective in guiding the reader through each point? Do sentences within paragraphs contribute to the main idea?
STEP 4: Analyze word choice and syntax: Look for repetitions, parallelisms, and other rhetorical devices that reinforce connections between ideas. Are they used effectively or confusingly?
STEP 5: Check pronoun and reference clarity: Ensure pronouns and other references are clear and unambiguous, avoiding confusion for the reader.

# User Inputs and AI-generated Response
## User Inputs
### Prompt
{prompt}

## AI-generated Response
{response}
"""
